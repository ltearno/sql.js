<html>
<head>
  <title>
    sql.js
  </title>
  <script src="sql.js"></script>
  
<script>
    // Connect to the HTML element we 'print' to
    function print(text) {
      var element = document.getElementById('output');
      element.innerHTML += "<br>" + text;
    }

    // Open a database
    //var db = SQL.open();

//alert( 'db id : ' + db );

    // Run a command in the database
    function execute(commands) {
      try {
db = SQL.open();
print( 'db: ' + db);
	alert( commands );

        var data = db.exec(commands);

        //print(JSON.stringify(data, null, '  '));
alert( data );

	/*try {
	print( "LAST INSERTED ID : " + db.lastInsertRowId() );
	} catch( e ) {
		print ('fuck!' );
	}*/
      } catch(e) {
        print(e);
      }
    }
  </script>


</head>
<body>
  
  <hr>
  <form onsubmit="execute(commands.value); return false">
    <b>Enter some SQL</b>:
    <br>
    <textarea rows="10" cols="80" id="commands">CREATE TABLE my_table(key INTEGER, value INTEGER, text VARCHAR(100));

INSERT INTO my_table VALUES(1, 25, 'the first item');
INSERT INTO my_table VALUES(2, 987, 'the second item');

SELECT key, text FROM my_table WHERE value == 987;
</textarea>
    <br>
    <input type="submit" value="execute">
  </form>
  <hr>
  <pre>
    <div id="output" style="font-family: Courier New,Courier,monospace;">OUTPUT DIV</div>
  </pre>

</body>



</html>

